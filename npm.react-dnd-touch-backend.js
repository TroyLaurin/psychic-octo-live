(self.webpackChunkpsychic_octo=self.webpackChunkpsychic_octo||[]).push([[310],{2001:(e,t,o)=>{"use strict";o.d(t,{z:()=>g});var n,r=o(8195);!function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"}(n||(n={}));function i(e){return void 0===e.button||0===e.button}function s(e){return!!e.targetTouches}function a(e,t){return s(e)?function(e,t){return 1===e.targetTouches.length?a(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?a(e.touches[0]):void 0}(e,t):{x:e.clientX,y:e.clientY}}var u=function(){var e=!1;try{addEventListener("test",(function(){}),Object.defineProperty({},"passive",{get:function(){return e=!0,!0}}))}catch(e){}return e}();function d(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c,h=function(){function e(t,o){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enableTouchEvents=!0,this.enableMouseEvents=!1,this.enableKeyboardEvents=!1,this.ignoreContextMenu=!1,this.enableHoverOutsideTarget=!1,this.touchSlop=0,this.scrollAngleRanges=void 0,this.context=o,this.delayTouchStart=t.delayTouchStart||t.delay||0,this.delayMouseStart=t.delayMouseStart||t.delay||0,Object.keys(t).forEach((function(e){null!=t[e]&&(n[e]=t[e])}))}var t,o;return t=e,(o=[{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.context)&&void 0!==e&&e.document?this.context.document:this.window?this.window.document:void 0}}])&&d(t.prototype,o),e}();function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f=(v(c={},n.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),v(c,n.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),v(c,n.keyboard,{keydown:"keydown"}),c),p=function(){function e(t,o,r){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getSourceClientOffset=function(e){var t=u.sourceNodes.get(e);return t&&function(e){var t=1===e.nodeType?e:e.parentElement;if(t){var o=t.getBoundingClientRect(),n=o.top;return{x:o.left,y:n}}}(t)},this.handleTopMoveStartCapture=function(e){i(e)&&(u.moveStartSourceIds=[])},this.handleMoveStart=function(e){Array.isArray(u.moveStartSourceIds)&&u.moveStartSourceIds.unshift(e)},this.handleTopMoveStart=function(e){if(i(e)){var t=a(e);t&&(s(e)&&(u.lastTargetTouchFallback=e.targetTouches[0]),u._mouseClientOffset=t),u.waitingForDelay=!1}},this.handleTopMoveStartDelay=function(e){if(i(e)){var t=e.type===f.touch.start?u.options.delayTouchStart:u.options.delayMouseStart;u.timeout=setTimeout(u.handleTopMoveStart.bind(u,e),t),u.waitingForDelay=!0}},this.handleTopMoveCapture=function(){u.dragOverTargetIds=[]},this.handleMove=function(e,t){u.dragOverTargetIds&&u.dragOverTargetIds.unshift(t)},this.handleTopMove=function(e){if(u.timeout&&clearTimeout(u.timeout),u.document&&!u.waitingForDelay){var t,o,n,r,i=u.moveStartSourceIds,s=u.dragOverTargetIds,d=u.options.enableHoverOutsideTarget,c=a(e,u.lastTargetTouchFallback);if(c)if(u._isScrolling||!u.monitor.isDragging()&&function(e,t,o,n,r){if(!r)return!1;for(var i=180*Math.atan2(n-t,o-e)/Math.PI+180,s=0;s<r.length;++s)if((null==r[s].start||i>=r[s].start)&&(null==r[s].end||i<=r[s].end))return!0;return!1}(u._mouseClientOffset.x||0,u._mouseClientOffset.y||0,c.x,c.y,u.options.scrollAngleRanges))u._isScrolling=!0;else if(!u.monitor.isDragging()&&u._mouseClientOffset.hasOwnProperty("x")&&i&&(t=u._mouseClientOffset.x||0,o=u._mouseClientOffset.y||0,n=c.x,r=c.y,Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-o),2))>(u.options.touchSlop?u.options.touchSlop:0))&&(u.moveStartSourceIds=void 0,u.actions.beginDrag(i,{clientOffset:u._mouseClientOffset,getSourceClientOffset:u.getSourceClientOffset,publishSource:!1})),u.monitor.isDragging()){var h=u.sourceNodes.get(u.monitor.getSourceId());u.installSourceNodeRemovalObserver(h),u.actions.publishDragSource(),e.cancelable&&e.preventDefault();var l=(s||[]).map((function(e){return u.targetNodes.get(e)})).filter((function(e){return!!e})),v=u.options.getDropTargetElementsAtPoint?u.options.getDropTargetElementsAtPoint(c.x,c.y,l):u.document.elementsFromPoint(c.x,c.y),f=[];for(var p in v)if(v.hasOwnProperty(p)){var g=v[p];for(f.push(g);g;)(g=g.parentElement)&&-1===f.indexOf(g)&&f.push(g)}var m=f.filter((function(e){return l.indexOf(e)>-1})).map((function(e){return u._getDropTargetId(e)})).filter((function(e){return!!e})).filter((function(e,t,o){return o.indexOf(e)===t}));if(d)for(var y in u.targetNodes){var b=u.targetNodes.get(y);if(h&&b&&b.contains(h)&&-1===m.indexOf(y)){m.unshift(y);break}}m.reverse(),u.actions.hover(m,{clientOffset:c})}}},this._getDropTargetId=function(e){for(var t=u.targetNodes.keys(),o=t.next();!1===o.done;){var n=o.value;if(e===u.targetNodes.get(n))return n;o=t.next()}},this.handleTopMoveEndCapture=function(e){u._isScrolling=!1,u.lastTargetTouchFallback=void 0,function(e){return void 0===e.buttons||0==(1&e.buttons)}(e)&&(u.monitor.isDragging()&&!u.monitor.didDrop()?(e.cancelable&&e.preventDefault(),u._mouseClientOffset={},u.uninstallSourceNodeRemovalObserver(),u.actions.drop(),u.actions.endDrag()):u.moveStartSourceIds=void 0)},this.handleCancelOnEscape=function(e){"Escape"===e.key&&u.monitor.isDragging()&&(u._mouseClientOffset={},u.uninstallSourceNodeRemovalObserver(),u.actions.endDrag())},this.options=new h(r,o),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(n.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(n.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(n.keyboard)}var t,o;return t=e,(o=[{key:"profile",value:function(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}},{key:"document",get:function(){return this.options.document}},{key:"setup",value:function(){this.document&&((0,r.k)(!e.isSetUp,"Cannot have two Touch backends at the same time."),e.isSetUp=!0,this.addEventListener(this.document,"start",this.getTopMoveStartHandler()),this.addEventListener(this.document,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(this.document,"move",this.handleTopMove),this.addEventListener(this.document,"move",this.handleTopMoveCapture,!0),this.addEventListener(this.document,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(this.document,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(this.document,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){this.document&&(e.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(this.document,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(this.document,"start",this.handleTopMoveStart),this.removeEventListener(this.document,"move",this.handleTopMoveCapture,!0),this.removeEventListener(this.document,"move",this.handleTopMove),this.removeEventListener(this.document,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(this.document,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(this.document,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,t,o,n){var r=u?{capture:n,passive:!1}:n;this.listenerTypes.forEach((function(n){var i=f[n][t];i&&e.addEventListener(i,o,r)}))}},{key:"removeEventListener",value:function(e,t,o,n){var r=u?{capture:n,passive:!1}:n;this.listenerTypes.forEach((function(n){var i=f[n][t];i&&e.removeEventListener(i,o,r)}))}},{key:"connectDragSource",value:function(e,t){var o=this,n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",n),function(){o.sourceNodes.delete(e),o.removeEventListener(t,"start",n)}}},{key:"connectDragPreview",value:function(e,t,o){var n=this;return this.sourcePreviewNodeOptions.set(e,o),this.sourcePreviewNodes.set(e,t),function(){n.sourcePreviewNodes.delete(e),n.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDropTarget",value:function(e,t){var o=this;if(!this.document)return function(){};var n=function(n){if(o.document&&o.monitor.isDragging()){var r;switch(n.type){case f.mouse.move:r={x:n.clientX,y:n.clientY};break;case f.touch.move:r={x:n.touches[0].clientX,y:n.touches[0].clientY}}var i=null!=r?o.document.elementFromPoint(r.x,r.y):void 0,s=i&&t.contains(i);return i===t||s?o.handleMove(n,e):void 0}};return this.addEventListener(this.document.body,"move",n),this.targetNodes.set(e,t),function(){o.document&&(o.targetNodes.delete(e),o.removeEventListener(o.document.body,"move",n))}}},{key:"getTopMoveStartHandler",value:function(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((function(){e&&!e.parentElement&&(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}}])&&l(t.prototype,o),e}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new p(e,t,o)}}}]);